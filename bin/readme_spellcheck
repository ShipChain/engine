#!/bin/bash

echo "---------------------------------  Running ReadMe spellchecker  ---------------------------------"

readMeFileList[0]=$(pwd)/README.md

index=0
for file in $(find $(pwd)/docs/ -name "*.md")
do
  ((index++))
  readMeFileList[$index]=$file
done

for readmeFile in "${readMeFileList[@]}"
do
  fileName=$(basename $readmeFile)
  echo "...File: $readmeFile"
  docker run --rm \
  -v $readmeFile:/$fileName \
  -v $(pwd)/docs/accepted_words/readme_dictionary.txt:/accepted_words/readme_dictionary.txt \
  shipchain/spellcheck -md /$fileName -d accepted_words/readme_dictionary.txt
done
